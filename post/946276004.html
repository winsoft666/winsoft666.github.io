<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>产品级的Electron项目模板 - CodeSilo</title><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="#3273dc"><meta name="application-name" content="CodeSilo"><meta name="msapplication-TileImage" content="img/pi-200.png"><meta name="msapplication-TileColor" content="#3273dc"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="CodeSilo"><meta name="apple-mobile-web-app-status-bar-style" content="default"><link rel="apple-touch-icon" sizes="200x200" href="img/pi-200.png"><meta name="description" content="写在前面最初选择使用Electron来开发客户端产品，主要是看重了Web开发的高效率，但进入到实际开发流程很多问题就都暴露出来了。 和开发人员有关的问题主要集中在Web开发人员缺少对客户端的认识，系统编程方面的知识就更不用提了。 Web开发大多喜欢使用模板搭建项目，大多数开发人员离开模板寸步难行，在模板选择方面也遇到了一些问题，有的模板项目（如Electron-vite）功能很强大，但项目过于复杂"><meta property="og:type" content="blog"><meta property="og:title" content="产品级的Electron项目模板"><meta property="og:url" content="https://jiangxueqiao.com/post/946276004.html"><meta property="og:site_name" content="CodeSilo"><meta property="og:description" content="写在前面最初选择使用Electron来开发客户端产品，主要是看重了Web开发的高效率，但进入到实际开发流程很多问题就都暴露出来了。 和开发人员有关的问题主要集中在Web开发人员缺少对客户端的认识，系统编程方面的知识就更不用提了。 Web开发大多喜欢使用模板搭建项目，大多数开发人员离开模板寸步难行，在模板选择方面也遇到了一些问题，有的模板项目（如Electron-vite）功能很强大，但项目过于复杂"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://blog-static.jiangxueqiao.com/blog/img/nsis-setup-1.jpg"><meta property="og:image" content="https://blog-static.jiangxueqiao.com/blog/img/why-not-prettier-1.jpg"><meta property="og:image" content="https://blog-static.jiangxueqiao.com/blog/img/why-not-prettier-2.jpg"><meta property="article:published_time" content="2024-02-25T05:53:19.000Z"><meta property="article:modified_time" content="2024-02-25T05:38:45.399Z"><meta property="article:author" content="江雪桥"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://blog-static.jiangxueqiao.com/blog/img/nsis-setup-1.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://jiangxueqiao.com/post/946276004.html"},"headline":"产品级的Electron项目模板","image":["https://blog-static.jiangxueqiao.com/blog/img/nsis-setup-1.jpg","https://blog-static.jiangxueqiao.com/blog/img/why-not-prettier-1.jpg","https://blog-static.jiangxueqiao.com/blog/img/why-not-prettier-2.jpg"],"datePublished":"2024-02-25T05:53:19.000Z","dateModified":"2024-02-25T05:38:45.399Z","author":{"@type":"Person","name":"江雪桥"},"publisher":{"@type":"Organization","name":"CodeSilo","logo":{"@type":"ImageObject","url":"https://blog-static.jiangxueqiao.com/blog/icarus-theme/codesilo.png"}},"description":"写在前面最初选择使用Electron来开发客户端产品，主要是看重了Web开发的高效率，但进入到实际开发流程很多问题就都暴露出来了。 和开发人员有关的问题主要集中在Web开发人员缺少对客户端的认识，系统编程方面的知识就更不用提了。 Web开发大多喜欢使用模板搭建项目，大多数开发人员离开模板寸步难行，在模板选择方面也遇到了一些问题，有的模板项目（如Electron-vite）功能很强大，但项目过于复杂"}</script><link rel="canonical" href="https://jiangxueqiao.com/post/946276004.html"><link rel="icon" href="https://blog-static.jiangxueqiao.com/blog/icarus-theme/favicon.png"><link rel="stylesheet" href="https://blog-static.jiangxueqiao.com/blog/icarus-theme/js/all.min.css"><link rel="stylesheet" href="https://blog-static.jiangxueqiao.com/blog/icarus-theme/js/highlight.js/11.7.0/styles/xt256.css"><link rel="stylesheet" href="https://blog-static.jiangxueqiao.com/blog/icarus-theme/font/css2/Oxanium-Roboto-Mono.css"><link rel="stylesheet" href="/css/cyberpunk.css"><!--!--><script>var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?fbb46283a7b4d42d425356f8779708d5";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();</script><!--!--><!--!--><link rel="stylesheet" href="https://blog-static.jiangxueqiao.com/blog/icarus-theme/js/lightgallery/1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://blog-static.jiangxueqiao.com/blog/icarus-theme/js/justifiedGallery/3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://blog-static.jiangxueqiao.com/blog/icarus-theme/js/pace-js/1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="https://blog-static.jiangxueqiao.com/blog/icarus-theme/codesilo.png" alt="CodeSilo" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">首页</a><a class="navbar-item" href="/archives">时间轴</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="https://jiangxueqiao.com/post/2185937873.html">留言</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Email" href="mailto:smart7178@163.com"><i class="fa fa-envelope"></i></a><a class="navbar-item" target="_blank" rel="noopener" title="GitHub" href="https://github.com/winsoft666"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2024-02-25T05:53:19.000Z" title="2024/2/25 13:53:19">2024-02-25</time>发表</span><span class="level-item"><time dateTime="2024-02-25T05:38:45.399Z" title="2024/2/25 13:38:45">2024-02-25</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E2%91%A2-Power-By-Me/">③ Power By Me</a></span><span class="level-item twikoo_visitors" id="/post/946276004.html" data-flag-title="产品级的Electron项目模板"><i class="far fa-eye"></i>&nbsp;&nbsp;<span id="twikoo_visitors"><i class="fa fa-spinner fa-spin"></i></span>次访问</span></div></div><h1 class="title is-3 is-size-4-mobile">产品级的Electron项目模板</h1><div class="content"><h1 id="写在前面"><a href="#写在前面" class="headerlink" title="写在前面"></a>写在前面</h1><p>最初选择使用Electron来开发客户端产品，主要是看重了Web开发的高效率，但进入到实际开发流程很多问题就都暴露出来了。</p>
<p>和开发人员有关的问题主要集中在Web开发人员缺少对客户端的认识，系统编程方面的知识就更不用提了。</p>
<p>Web开发大多喜欢使用模板搭建项目，大多数开发人员离开模板寸步难行，在模板选择方面也遇到了一些问题，有的模板项目（如Electron-vite）功能很强大，但项目过于复杂，甚至远远超过了我们需要开发的项目本身，这样一旦遇到问题，团队将很难上手进行修改，而有的模板项目又过于简单，使用的技术也比较老了，属于Demo类型，不适合用在产品开发中。</p>
<p>基于上述问题，我着手开发了一个基于Vue3+Vite的Electron模板项目，在开发这个模板时，我一直遵循稳定、易于维护的初衷。而且在Web开发方面，我属于新手级别，因此我相信这个项目大多数人都是可以上手的。</p>
<p>项目地址：<br><a target="_blank" rel="noopener" href="https://github.com/winsoft666/electron-vue3-template">https://github.com/winsoft666/electron-vue3-template</a></p>
<span id="more"></span>

<h1 id="1-项目介绍"><a href="#1-项目介绍" class="headerlink" title="1. 项目介绍"></a>1. 项目介绍</h1><p>基于<strong>Vue3</strong> + <strong>Electron</strong> + <strong>TypeScript</strong>的客户端程序模板，使用<strong>Vite</strong>和<strong>Electron Forge</strong>构建和打包。</p>
<p>真正做到开箱即用，面向跨平台客户端设计，产品级的项目模板。</p>
<h2 id="1-1-特性"><a href="#1-1-特性" class="headerlink" title="1.1 特性"></a>1.1 特性</h2><ul>
<li>使用<a target="_blank" rel="noopener" href="https://vitejs.dev/">ViteJS</a>构建和驱动前端页面，支持热加载（HMR），使开发和调试变得更加高效 ⚡</li>
<li>支持Vue3多页面，提供页面创建指令，适合客户端开发场景 💖</li>
<li>支持Electron窗口创建指令，并且可隔离不同窗口的IPC事件 💖</li>
<li>封装简化了IPC的调用方式，并提供了IPC函数快速创建指令，主进程与渲染进程的相互调用从未如此简单 👍</li>
<li>主进程和渲染进程支持热加载 ⚡</li>
<li>精选依赖包，提升项目稳定性</li>
<li>代码简洁，易掌控，可定制性强</li>
<li>日志文件，主进程和渲染进程可以直接写文件日志</li>
<li>配置文件</li>
<li>主进程和渲染进程均支持axios HTTP请求</li>
<li>文件下载（含哈希校验、进度反馈），渲染进程可直接异步调用 👍</li>
<li>功能完善的无边框窗口</li>
<li>托盘图标和右键菜单，窗口关闭时程序最小化到托盘</li>
<li>客户端程序单实例</li>
<li>基于ESLint的代码规范和自动格式化</li>
<li>使用Electron官方推荐的<a target="_blank" rel="noopener" href="https://www.electronforge.io/">Electron Forge</a>进行客户端构建和打包</li>
<li>支持NSIS安装包 😎</li>
<li>……</li>
</ul>
<h2 id="1-2-快速开始-🌈"><a href="#1-2-快速开始-🌈" class="headerlink" title="1.2 快速开始 🌈"></a>1.2 快速开始 🌈</h2><p>点击右上角绿色的 <strong>Use this template</strong> 按钮，使用该模板创建一个新的仓库并克隆到本地。</p>
<p><strong>或者..</strong></p>
<p>直接克隆该项目: <code>git clone https://github.com/winsoft666/electron-vue3-template.git</code></p>
<h3 id="Visual-Studio-Code"><a href="#Visual-Studio-Code" class="headerlink" title="Visual Studio Code"></a>Visual Studio Code</h3><p>推荐使用<code>Visual Studio Code</code>进行项目开发，并安装如下插件：</p>
<ul>
<li>ESLint</li>
<li>Vue Language Features (Volar)</li>
</ul>
<h3 id="安装依赖-⏬"><a href="#安装依赖-⏬" class="headerlink" title="安装依赖 ⏬"></a>安装依赖 ⏬</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn install</span><br></pre></td></tr></tbody></table></figure>

<h3 id="开发-⚒️"><a href="#开发-⚒️" class="headerlink" title="开发 ⚒️"></a>开发 ⚒️</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn run dev</span><br></pre></td></tr></tbody></table></figure>

<h3 id="其他命令"><a href="#其他命令" class="headerlink" title="其他命令"></a>其他命令</h3><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">yarn run dev <span class="comment"># 启动应用并支持热加载</span></span><br><span class="line">yarn run build <span class="comment"># 构建应用，可发布的包位于"out\make"目录</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">yarn run build:win32 <span class="comment"># 构建Windows平台 32位应用</span></span><br><span class="line">yarn run build:win64 <span class="comment"># 构建Windows平台 64位应用</span></span><br><span class="line">yarn run build:mac <span class="comment"># 构建macOS平台应用</span></span><br><span class="line">yarn run build:linux <span class="comment"># 构建Linux平台应用</span></span><br><span class="line"></span><br><span class="line">yarn run new:page  <span class="comment"># 创建新的Vue页面</span></span><br><span class="line">yarn run new:window <span class="comment"># 创建新的Electron窗口</span></span><br></pre></td></tr></tbody></table></figure>

<p>更多的可选配置项可以参考 <a target="_blank" rel="noopener" href="https://www.electronforge.io/cli">Electron Forge CLI docs</a>。</p>
<h3 id="NSIS安装包-🪟"><a href="#NSIS安装包-🪟" class="headerlink" title="NSIS安装包 🪟"></a>NSIS安装包 🪟</h3><p>需要先手动下载和安装NSIS：<br><a target="_blank" rel="noopener" href="https://nsis.sourceforge.io/Download">https://nsis.sourceforge.io/Download</a></p>
<p>使用如下命令构建Windows平台 32位应用（如需构建64位应用，则需要手动修改<code>win-setup-x86.nsi</code>脚本）：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn run build:win32</span><br></pre></td></tr></tbody></table></figure>

<p>运行NSIS安装目录内的<code>makensisw.exe</code>。</p>
<p>依次点击<code>File -&gt; Load Script...</code>，选择并加载本项目的<code>setup\NSIS\win-setup-x86.nsi</code>脚本。</p>
<p>最后，执行<code>Recompile</code>命令即可编译生成安装包。</p>
<p><img src="https://blog-static.jiangxueqiao.com/blog/img/nsis-setup-1.jpg"></p>
<h1 id="2-项目介绍"><a href="#2-项目介绍" class="headerlink" title="2. 项目介绍"></a>2. 项目介绍</h1><h2 id="2-1-工程结构-🌳"><a href="#2-1-工程结构-🌳" class="headerlink" title="2.1 工程结构 🌳"></a>2.1 工程结构 🌳</h2><figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="string">scripts/</span>         <span class="comment"># 该目录中的脚本用构建应用程序和驱动前端页面</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">screenshots</span>      <span class="comment"># 本文档中用到的截图</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">setup/</span>            <span class="comment"># 存储编译和构建相关文件</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">NSIS/</span>                <span class="comment"># NSIS安装包脚本</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">exe.ico</span>             <span class="comment"># 构建后的可执行文件图标（非安装包图标）</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">install.ico</span>        <span class="comment"># NSIS安装包图标</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">uninstall.ico</span>      <span class="comment"># NSIS卸载程序图标</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">src/</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">lib/</span>            <span class="comment"># 公共库，为了方便修改，未做成独立的包</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">file-download/</span>    <span class="comment"># 文件下载库</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">main</span>                 <span class="comment"># 仅供主进程使用</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">renderer</span>            <span class="comment"># 仅供渲染进程使用</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">shared</span>               <span class="comment"># 主进程和渲染进程都可以使用</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">utils/</span>            <span class="comment"># 公共代码库</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">main/</span>           <span class="comment"># 主进程的代码 (Electron)</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">static/</span>          <span class="comment"># 静态资源</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">windows/</span>         <span class="comment"># 多窗口文件夹 (每个子目录表示一个窗口)</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">primary/</span>          <span class="comment"># 主窗口（客户端通常都会有一个主窗口）</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">frameless/</span>        <span class="comment"># 无边框示例窗口</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">...</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">renderer/</span>      <span class="comment"># 渲染进程的代码 (VueJS)</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">public</span>           <span class="comment"># 静态资源</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">pages/</span>           <span class="comment"># 多页面目录 (强制约定：每个子目录代表一个页面)</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">primary/</span>          <span class="comment"># 主窗口页面</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">frameless/</span>        <span class="comment"># 无边框示例窗口的页面</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">...</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">typings/</span>         <span class="comment"># ts声明文件</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="2-2-使用静态文件"><a href="#2-2-使用静态文件" class="headerlink" title="2.2 使用静态文件"></a>2.2 使用静态文件</h2><ul>
<li><code>src/main/static</code>目录存放主进程使用的静态文件。</li>
<li><code>src/renderer/public</code>目录存放渲染进程使用的静态文件。</li>
</ul>
<h4 id="在主进程中引用静态文件"><a href="#在主进程中引用静态文件" class="headerlink" title="在主进程中引用静态文件"></a>在主进程中引用静态文件</h4><figure class="highlight ts"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 假设 src/main/static/tray.ico 文件存在</span></span><br><span class="line"><span class="comment">// 使用 appState.mainStaticPath 属性获取主进程的静态文件存储目录</span></span><br><span class="line"><span class="keyword">import</span> path <span class="keyword">from</span> <span class="string">"path"</span>;</span><br><span class="line"><span class="keyword">import</span> appState <span class="keyword">from</span> <span class="string">"./app-state"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> iconPath = path.<span class="title function_">join</span>(appState.<span class="property">mainStaticPath</span>, <span class="string">"tray.ico"</span>);</span><br></pre></td></tr></tbody></table></figure>

<h2 id="2-3-AppState对象"><a href="#2-3-AppState对象" class="headerlink" title="2.3 AppState对象"></a>2.3 AppState对象</h2><p>为了方便在主进程中跨模块访问某些对象（如<code>primaryWindow</code>、<code>tray</code>、<code>cfgStore</code>等）和应用配置（如<code>onlyAllowSingleInstance</code>等），我们定义了单实例对象AppState来存储这些数据。</p>
<p>使用方法如下：</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> appState <span class="keyword">from</span> <span class="string">"./app-state"</span>;</span><br><span class="line"></span><br><span class="line">appState.<span class="property">primaryWindow</span>?.<span class="title function_">show</span>();</span><br></pre></td></tr></tbody></table></figure>

<h2 id="2-4-快速创建Vue页面"><a href="#2-4-快速创建Vue页面" class="headerlink" title="2.4 快速创建Vue页面"></a>2.4 快速创建Vue页面</h2><p>执行如下命令，输入页面名称后将自动在<code>renderer/pages</code>目录创建子页面，每个子页面的相关代码位于单独的目录中，目录名为我们指定的页面名称（小写）。</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn run new:page</span><br></pre></td></tr></tbody></table></figure>

<p>创建的子页面在代码中通过以下方式访问：</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 开发环境</span></span><br><span class="line"><span class="keyword">const</span> rendererPort = process.<span class="property">argv</span>[<span class="number">2</span>];</span><br><span class="line">primaryWindow.<span class="title function_">loadURL</span>(<span class="string">`http://localhost:<span class="subst">${rendererPort}</span>/pages/&lt;PAGE-NAME&gt;/index.html`</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 非开发环境</span></span><br><span class="line">primaryWindow.<span class="title function_">loadFile</span>(path.<span class="title function_">join</span>(app.<span class="title function_">getAppPath</span>(), <span class="string">"build/renderer/pages/&lt;PAGE-NAME&gt;/index.html"</span>));</span><br></pre></td></tr></tbody></table></figure>

<h2 id="2-5-快速创建Electron窗口"><a href="#2-5-快速创建Electron窗口" class="headerlink" title="2.5 快速创建Electron窗口"></a>2.5 快速创建Electron窗口</h2><p>虽然直接构造Electron的BrowerWindow对象就可以创建新的Electron窗口，但为了方便代码管理和ipcMain消息隔离，本模板中的每个窗口都继承自<code>WindowBase</code>对象，每个窗口的相关代码位于<code>src\main\windows\</code>的不同子目录中，目录名为我们指定的窗口名称（小写）。</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn run new:window</span><br></pre></td></tr></tbody></table></figure>

<p>创建的子窗口默认会访问同名的子页面，可以手动修改代码访问其他页面：</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(process.<span class="property">env</span>.<span class="property">NODE_ENV</span> === <span class="string">"development"</span>){</span><br><span class="line">  <span class="keyword">const</span> rendererPort = process.<span class="property">argv</span>[<span class="number">2</span>];</span><br><span class="line">  primaryWindow.<span class="title function_">loadURL</span>(<span class="string">`http://localhost:<span class="subst">${rendererPort}</span>/pages/primary/index.html`</span>);</span><br><span class="line">}<span class="keyword">else</span>{</span><br><span class="line">  primaryWindow.<span class="title function_">loadFile</span>(path.<span class="title function_">join</span>(app.<span class="title function_">getAppPath</span>(), <span class="string">"build/renderer/pages/primary/index.html"</span>));</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>创建窗口后，需要在<code>registerIpcMainHandler</code>方法中注册该窗口的ipcMain事件及处理函数。</p>
<p>如果多个窗口注册了同名的事件，当渲染进程发送该名称的事件到主进程时，所有窗口对象都会收到该事件，为了避免这种情况，我们可以在事件处理函数中使用<code>isIpcMainEventBelongMe</code>方法来过滤非本窗口的事件。</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ipcMain.<span class="title function_">on</span>(<span class="string">"message"</span>, <span class="function">(<span class="params">event, message</span>) =&gt;</span> {</span><br><span class="line">  <span class="keyword">if</span>(!<span class="variable language_">this</span>.<span class="title function_">isIpcMainEventBelongMe</span>(event))</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(message);</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>

<h2 id="2-6-快速创建IPC函数"><a href="#2-6-快速创建IPC函数" class="headerlink" title="2.6 快速创建IPC函数"></a>2.6 快速创建IPC函数</h2><p>在<code>src\renderer\pages\primary\App.vue</code>中获取文件MD5的代码如下：</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">onGetFileMd5</span>(<span class="params"></span>){</span><br><span class="line">  <span class="keyword">const</span> result = <span class="keyword">await</span> utils.<span class="title function_">showOpenDialog</span>({</span><br><span class="line">    <span class="attr">properties</span>: [ <span class="string">"openFile"</span> ],</span><br><span class="line">    <span class="attr">filters</span>: [</span><br><span class="line">      { <span class="attr">name</span>: <span class="string">"All Files"</span>, <span class="attr">extensions</span>: [ <span class="string">"*"</span> ] }</span><br><span class="line">    ]</span><br><span class="line">  });</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(result.<span class="property">filePaths</span>.<span class="property">length</span> &gt; <span class="number">0</span>){</span><br><span class="line">    utils.<span class="title function_">getFileMd5</span>(result.<span class="property">filePaths</span>[<span class="number">0</span>])</span><br><span class="line">      .<span class="title function_">then</span>(<span class="function">(<span class="params">md5</span>) =&gt;</span> {</span><br><span class="line">        message.<span class="title function_">success</span>(md5);</span><br><span class="line">      }).<span class="title function_">catch</span>(<span class="function">(<span class="params">e</span>) =&gt;</span> {</span><br><span class="line">        message.<span class="title function_">error</span>(<span class="title class_">GetErrorMessage</span>(e));</span><br><span class="line">      });</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>上述代码通过调用Utils库的<code>showOpenDialog</code>、<code>getFileMd5</code>函数轻松实现了通知主进程选择文件、计算文件MD5并获取相应结果的操作，代码非常简洁。</p>
<p>但是Utils只预置了部分常用的功能，预置功能肯定无法满足我们产品开发的所有需求。在此情况下，我们可以向Utils库中添加自定义的功能函数，该如何添加了？</p>
<p>不用担心，本模板已经提供了IPC函数快速创建指令：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn run new:ipc</span><br></pre></td></tr></tbody></table></figure>

<p>执行上面指令后，会出现如下提示：</p>
<figure class="highlight txt"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Create syntax: CallWay,FunctionName,FunctionType</span><br><span class="line">Call Way:</span><br><span class="line">        rm = Renderer process call the function of main process</span><br><span class="line">        mr = Main process call the function of renderer process (Ignore FunctionType)</span><br><span class="line">Function Name:</span><br><span class="line">        xxx-xxx-xxx</span><br><span class="line">Function Type:</span><br><span class="line">        a = Asynchronous call without result</span><br><span class="line">        ap = Asynchronous call with promise result</span><br><span class="line">        s = Synchronous call with result</span><br></pre></td></tr></tbody></table></figure>

<p>参数1（CallWay）表示函数调用方向：</p>
<ul>
<li>rm 表示渲染进程调用主进程的函数，可以支持同步调用、异步调用，并且可以返回Promise结果。</li>
<li>mr 表示主进程调用渲染进程的函数，该方向只能是异步调用，而且不支持返回结果，会忽略第三个参数（FunctionType）。</li>
</ul>
<p>参数2（FunctionName）表示函数名称，函数名称的单词间使用<code>-</code>分隔，如<code>GetFileSha256</code>需要指定为<code>get-file-sha256</code>。</p>
<p>参数3（FunctionType）函数类型：</p>
<ul>
<li>a 表示不返回结果的异步函数</li>
<li>ap 表示返回Promise结果的异步函数</li>
<li>s 表示同步函数</li>
</ul>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><p>依次输入如下命令：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yarn run new:ipc</span><br><span class="line"></span><br><span class="line">Input:</span><br><span class="line"><span class="built_in">rm</span>,get-file-sha256,ap</span><br></pre></td></tr></tbody></table></figure>

<p>命令执行成功后，会自动在<code>src\lib\utils\renderer\index.ts</code>生成<code>Utils.getFileSha256</code>函数：</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public <span class="keyword">async</span> <span class="title function_">getFileSha256</span>(<span class="params"></span>){</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">await</span> (<span class="variable language_">window</span> <span class="keyword">as</span> any).<span class="property">__ElectronUtils__</span>.<span class="title function_">getFileSha256</span>();</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>自动生成的函数都没有指定参数和返回值，需要我们手动添加，如修改后的函数如下：</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public <span class="keyword">async</span> <span class="title function_">getFileSha256</span>(<span class="attr">filePath</span>: string) : string {</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">await</span> (<span class="variable language_">window</span> <span class="keyword">as</span> any).<span class="property">__ElectronUtils__</span>.<span class="title function_">getFileSha256</span>(filePath) <span class="keyword">as</span> string;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>在渲染进程中（如App.vue）中可以直接调用该函数：</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> utils <span class="keyword">from</span> <span class="string">"../../../lib/utils/renderer"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> sha256 = <span class="keyword">await</span> utils.<span class="title function_">getFileSha256</span>(<span class="string">"file-path.txt"</span>);</span><br></pre></td></tr></tbody></table></figure>

<p>IPC函数创建指令只会创建函数骨架，不会为我们实现具体的功能，我们还需要在主进程ipcMain处理函数中实现计算文件SHA256的具体功能。</p>
<p>自动生成的主进程ipcMain处理函数如下：</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ipcMain.<span class="title function_">handle</span>(<span class="string">"electron-utils-get-file-sha256"</span>, <span class="title function_">async</span>(event) =&gt; {</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>

<p>手动添加参数、返回值，及具体的功能代码（此处省略）：</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ipcMain.<span class="title function_">handle</span>(<span class="string">"electron-utils-get-file-sha256"</span>, <span class="title function_">async</span>(event, <span class="attr">filePath</span>: string) : <span class="title class_">Promise</span>&lt;string&gt; =&gt; {</span><br><span class="line">  <span class="comment">// .....</span></span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>

<h1 id="3-代码规范"><a href="#3-代码规范" class="headerlink" title="3. 代码规范"></a>3. 代码规范</h1><p>本项目使用ESLint进行代码检查和格式化，没有使用Prettier进行代码格式化。</p>
<p>原因大体如下：</p>
<ol>
<li><p>需要额外的插件和配置来避免ESLint和Prettier的规则冲突。</p>
</li>
<li><p>Prettier的<code>printWidth</code>配置项会损害代码和Git Diff的可读性。<br><img src="https://blog-static.jiangxueqiao.com/blog/img/why-not-prettier-1.jpg"></p>
</li>
</ol>
<p><img src="https://blog-static.jiangxueqiao.com/blog/img/why-not-prettier-2.jpg"></p>
<p><a target="_blank" rel="noopener" href="https://prettier.io/playground/#N4Igxg9gdgLgprEAuc0DOMAEBXNcBOamAvJgNoA6UmmwOe+AkgCZKYCMANPQVAIYBbOGwogAggBsAZgEs4mAMJ98QiTJh9RmAL6cqNOrgIs2AJm5H8-ISJABxGf0wAlCGgAWfKFt37aPJlZMAGYLBmthTFEAZXdsAHNMADk+ACNsHz1qf0sTTAAWMN5BSNFnPncBL0wAMXw+Bky-QwY8gFYiqxLbABU3d3kAGQBPbFSEJuyW4yCANk6I22iCeJkIZJkJCCllSYBdAG4qEE4QCAAHGDWoNGRQZXwIAHcABWUEW5Q+CSe+YdvTql6mAANZwGDREqDRxwZA7CR4QHAsEQ858MCOeLIGD4bBwU5wATjZjMODMQZeeLYPjxOA1CAqPgwK5QLFfbAwCAnEDuGACCQAdXc6jgaDRYDgyxu6hkADd1MNkOA0ACQI4GDAXvV4lU4d9ESAAFZoAAe0UxEjgAEVsBB4HqEfiQGjCAQlak0nAJNzzvhHDABTJmDB3Mh8uZnY88AL6uclb7RQRZbDTgBHW3wLUXT4gBoAWigcDJZO5+Dg6ZkZa1NN1SHhBrwAhk2NxTrQFutGdhdf1To0qUDwdDSAjOL4m0xCggAlrIFFbW5Rh6aU+9adsrxjCgpNg0TAfsuYm30Rgw0tDrw2m0QA">在线演示</a></p>
<h1 id="4-依赖包-🎈"><a href="#4-依赖包-🎈" class="headerlink" title="4. 依赖包 🎈"></a>4. 依赖包 🎈</h1><h2 id="4-1-基本原则"><a href="#4-1-基本原则" class="headerlink" title="4.1 基本原则"></a>4.1 基本原则</h2><blockquote>
<p>一个构建在众多不稳定性因素下的项目，是没有稳定性可言的。</p>
</blockquote>
<p>为了保证项目的稳定性，本模板项目只使用具有知名度、稳定性强的依赖包（库），如<code>electron-log</code>等。</p>
<p>对于作者自己写的库（如<code>file-download</code>等），统一以源码形式提供在<code>src\lib\</code>目录，方便模板使用者进行bug修复和功能扩充，在使用时直接采用相对路径进行导入即可。</p>
<h2 id="4-2-dependencies和devDependencies的区别"><a href="#4-2-dependencies和devDependencies的区别" class="headerlink" title="4.2 dependencies和devDependencies的区别"></a>4.2 dependencies和devDependencies的区别</h2><p>由于Electron Forge会将<code>dependencies</code>中的所有依赖项都进行打包，因此为了减少安装包的体积，我们只将主进程需要使用的依赖安装到<code>dependencies</code>项下，而其他的依赖均安装到<code>devDependencies</code>。</p>
<p>如将vue作为开发依赖进行安装：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add -D vue</span><br></pre></td></tr></tbody></table></figure>

<h2 id="4-3-依赖包说明"><a href="#4-3-依赖包说明" class="headerlink" title="4.3 依赖包说明"></a>4.3 依赖包说明</h2><blockquote>
<p>作为开发者，应知晓每个依赖包的用途，避免node_modules黑洞的产生。</p>
</blockquote>
<ul>
<li><p>unplugin-vue-components<br>实现自动按需引入AntDesign-Vue组件。</p>
</li>
<li><p>electron-log<br>提供本地日志文件的打印和输出。</p>
</li>
<li><p>electron-store<br>提供本地配置文件的读取和写入功能。</p>
</li>
<li><p>@fortawesome-*<br>提供对FontAwesome图标字体的支持。</p>
</li>
<li><p>uuid<br>使用uuid字符串，在file-download库中使用。</p>
</li>
<li><p>chalk<br>用于在命令行终端输出带颜色样式的字符串，仅在<code>scripts\*.js</code>中使用。</p>
</li>
<li><p>chokidar<br>轻量级的文件监控组件，用于实现热加载，仅在<code>scripts\*.js</code>中使用。</p>
</li>
<li><p>@electron-forge/*<br>与Electron Forge构建和打包相关的依赖包，除了<code>@electron-forge/cli</code>是必须的，其他的可以根据<code>forge.config.js -&gt; makers</code>的配置按需引用。</p>
</li>
<li><p>axios<br>异步HTTP网络请求组件</p>
</li>
</ul>
<h1 id="5-客户端版本号"><a href="#5-客户端版本号" class="headerlink" title="5. 客户端版本号"></a>5. 客户端版本号</h1><p>使用<code>package.json</code>文件的<code>version</code>字段标识客户端的版本号，在主进程内可以通过<code>appState.appVersion</code>属性获取。</p>
<p>💡 不需要设置<code>forge.config.js</code>文件的<code>appVersion</code>字段。</p>
<p>在渲染进程可以直接使用<code>utils.getAppVersion()</code>获取版本号。</p>
<figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> utils <span class="keyword">from</span> <span class="string">"../../../lib/utils/renderer"</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(utils.<span class="title function_">getAppVersion</span>());</span><br></pre></td></tr></tbody></table></figure>

<h1 id="6-期待你的反馈-🥳"><a href="#6-期待你的反馈-🥳" class="headerlink" title="6. 期待你的反馈 🥳"></a>6. 期待你的反馈 🥳</h1><p>个人能力有限，代码不免有错误和不足之处，欢迎在Github中提交issue和PR。</p>
<p>如果这个项目对你有帮助，请点击Github右上角的Star ⭐让我知道。</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>产品级的Electron项目模板</p><p><a href="https://jiangxueqiao.com/post/946276004.html">https://jiangxueqiao.com/post/946276004.html</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>江雪桥</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2024-02-25</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2024-02-25</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/post/1391804423.html"><span class="level-item">🐉2024龙行龘龘</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div class="content twikoo" id="twikoo"></div><script src="https://blog-static.jiangxueqiao.com/blog/icarus-theme/js/twikoo/1.6.6/dist/twikoo.all.min.js"></script><script>twikoo.init({
            envId: 'https://twikoo.jiangxueqiao.com',
            
            lang: "zh-CN",
        });</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="https://blog-static.jiangxueqiao.com/blog/icarus-theme/pi-200.png" alt="Jiang Xueqiao"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Jiang Xueqiao</p><p class="is-size-6 is-block">Software Engineer</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Wuhan, Hubei</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">160</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">26</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">30</p></a></div></div></nav></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-02-25T05:53:19.000Z">2024-02-25</time></p><p class="title"><a href="/post/946276004.html">产品级的Electron项目模板</a></p><p class="categories"><a href="/categories/%E2%91%A2-Power-By-Me/">③ Power By Me</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-02-20T01:25:38.000Z">2024-02-20</time></p><p class="title"><a href="/post/1391804423.html">🐉2024龙行龘龘</a></p><p class="categories"><a href="/categories/%E2%91%AD-%E6%9D%82%E5%BF%B5/">⑭ 杂念</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-12-21T13:48:55.000Z">2023-12-21</time></p><p class="title"><a href="/post/2185523635.html">开源库spdlog使用备忘</a></p><p class="categories"><a href="/categories/%E2%91%AA-%E5%BC%80%E6%BA%90%E5%BA%93/">⑪ 开源库</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-12-15T13:20:06.000Z">2023-12-15</time></p><p class="title"><a href="/post/2418701368.html">C/C++不同整数类型的区别</a></p><p class="categories"><a href="/categories/%E2%91%A1-C/">② C++</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-11-26T11:07:09.000Z">2023-11-26</time></p><p class="title"><a href="/post/1533480858.html">Windows窗口调试利器-WinSpyPlus</a></p><p class="categories"><a href="/categories/%E2%91%A2-Power-By-Me/">③ Power By Me</a></p></div></article></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/%E2%91%A0-%E4%B8%93%E6%A0%8F%E9%9B%86%E9%94%A6/"><span class="level-start"><span class="level-item">① 专栏集锦</span></span><span class="level-end"><span class="level-item tag">63</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E2%91%A0-%E4%B8%93%E6%A0%8F%E9%9B%86%E9%94%A6/Windows%E5%86%85%E5%AD%98%E4%BD%93%E7%B3%BB/"><span class="level-start"><span class="level-item">Windows内存体系</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/%E2%91%A0-%E4%B8%93%E6%A0%8F%E9%9B%86%E9%94%A6/Windows%E5%A5%97%E6%8E%A5%E5%AD%97I-O%E6%A8%A1%E5%9E%8B/"><span class="level-start"><span class="level-item">Windows套接字I/O模型</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/%E2%91%A0-%E4%B8%93%E6%A0%8F%E9%9B%86%E9%94%A6/Windows%E6%A0%B8%E5%BF%83%E7%BC%96%E7%A8%8B/"><span class="level-start"><span class="level-item">Windows核心编程</span></span><span class="level-end"><span class="level-item tag">19</span></span></a></li><li><a class="level is-mobile" href="/categories/%E2%91%A0-%E4%B8%93%E6%A0%8F%E9%9B%86%E9%94%A6/Windows%E6%B3%A8%E5%85%A5%E4%B8%8E%E6%8B%A6%E6%88%AA/"><span class="level-start"><span class="level-item">Windows注入与拦截</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/%E2%91%A0-%E4%B8%93%E6%A0%8F%E9%9B%86%E9%94%A6/%E6%89%93%E5%8C%85%E7%8B%82%E9%AD%94%E4%B9%8BNSIS%E6%95%99%E7%A8%8B/"><span class="level-start"><span class="level-item">打包狂魔之NSIS教程</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/categories/%E2%91%A0-%E4%B8%93%E6%A0%8F%E9%9B%86%E9%94%A6/%E6%8B%A8%E5%BC%80%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81%E7%9A%84%E8%BF%B7%E9%9B%BE/"><span class="level-start"><span class="level-item">拨开字符编码的迷雾</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/%E2%91%A0-%E4%B8%93%E6%A0%8F%E9%9B%86%E9%94%A6/%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/"><span class="level-start"><span class="level-item">网络协议</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E2%91%A1-C/"><span class="level-start"><span class="level-item">② C++</span></span><span class="level-end"><span class="level-item tag">28</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E2%91%A1-C/Qt/"><span class="level-start"><span class="level-item">Qt</span></span><span class="level-end"><span class="level-item tag">15</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E2%91%A2-Power-By-Me/"><span class="level-start"><span class="level-item">③ Power By Me</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/%E2%91%A3-Electron/"><span class="level-start"><span class="level-item">④ Electron</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E2%91%A4-%E9%9F%B3%E8%A7%86%E9%A2%91%E7%BC%96%E7%A8%8B/"><span class="level-start"><span class="level-item">⑤ 音视频编程</span></span><span class="level-end"><span class="level-item tag">11</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E2%91%A4-%E9%9F%B3%E8%A7%86%E9%A2%91%E7%BC%96%E7%A8%8B/WebRTC/"><span class="level-start"><span class="level-item">WebRTC</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E2%91%A5-%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%BC%80%E5%8F%91/"><span class="level-start"><span class="level-item">⑥ 服务器开发</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/%E2%91%A6-%E8%BD%AF%E4%BB%B6%E8%B0%83%E8%AF%95/"><span class="level-start"><span class="level-item">⑦ 软件调试</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/categories/%E2%91%A7-%E8%BD%AF%E4%BB%B6%E6%9E%B6%E6%9E%84/"><span class="level-start"><span class="level-item">⑧ 软件架构</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/%E2%91%A8-%E6%95%B0%E6%8D%AE%E5%BA%93/"><span class="level-start"><span class="level-item">⑨ 数据库</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/%E2%91%A9-%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/"><span class="level-start"><span class="level-item">⑩ 编程基础</span></span><span class="level-end"><span class="level-item tag">13</span></span></a><ul><li><a class="level is-mobile" href="/categories/%E2%91%A9-%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/CMake/"><span class="level-start"><span class="level-item">CMake</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/%E2%91%A9-%E7%BC%96%E7%A8%8B%E5%9F%BA%E7%A1%80/%E6%89%B9%E5%A4%84%E7%90%86/"><span class="level-start"><span class="level-item">批处理</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/%E2%91%AA-%E5%BC%80%E6%BA%90%E5%BA%93/"><span class="level-start"><span class="level-item">⑪ 开源库</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/%E2%91%AB-Web%E5%BC%80%E5%8F%91/"><span class="level-start"><span class="level-item">⑫ Web开发</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/%E2%91%AC-%E7%BE%8E%E6%96%87%E8%B5%8F%E6%9E%90/"><span class="level-start"><span class="level-item">⑬ 美文赏析</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/%E2%91%AD-%E6%9D%82%E5%BF%B5/"><span class="level-start"><span class="level-item">⑭ 杂念</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E2%91%AE-%E7%88%B1%E6%8A%98%E8%85%BE/"><span class="level-start"><span class="level-item">⑮ 爱折腾</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#写在前面"><span class="level-left"><span class="level-item">写在前面</span></span></a></li><li><a class="level is-mobile" href="#1-项目介绍"><span class="level-left"><span class="level-item">1. 项目介绍</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#1-1-特性"><span class="level-left"><span class="level-item">1.1 特性</span></span></a></li><li><a class="level is-mobile" href="#1-2-快速开始-🌈"><span class="level-left"><span class="level-item">1.2 快速开始 🌈</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Visual-Studio-Code"><span class="level-left"><span class="level-item">Visual Studio Code</span></span></a></li><li><a class="level is-mobile" href="#安装依赖-⏬"><span class="level-left"><span class="level-item">安装依赖 ⏬</span></span></a></li><li><a class="level is-mobile" href="#开发-⚒️"><span class="level-left"><span class="level-item">开发 ⚒️</span></span></a></li><li><a class="level is-mobile" href="#其他命令"><span class="level-left"><span class="level-item">其他命令</span></span></a></li><li><a class="level is-mobile" href="#NSIS安装包-🪟"><span class="level-left"><span class="level-item">NSIS安装包 🪟</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#2-项目介绍"><span class="level-left"><span class="level-item">2. 项目介绍</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#2-1-工程结构-🌳"><span class="level-left"><span class="level-item">2.1 工程结构 🌳</span></span></a></li><li><a class="level is-mobile" href="#2-2-使用静态文件"><span class="level-left"><span class="level-item">2.2 使用静态文件</span></span></a><ul class="menu-list"><ul class="menu-list"><li><a class="level is-mobile" href="#在主进程中引用静态文件"><span class="level-left"><span class="level-item">在主进程中引用静态文件</span></span></a></li></ul></ul></li><li><a class="level is-mobile" href="#2-3-AppState对象"><span class="level-left"><span class="level-item">2.3 AppState对象</span></span></a></li><li><a class="level is-mobile" href="#2-4-快速创建Vue页面"><span class="level-left"><span class="level-item">2.4 快速创建Vue页面</span></span></a></li><li><a class="level is-mobile" href="#2-5-快速创建Electron窗口"><span class="level-left"><span class="level-item">2.5 快速创建Electron窗口</span></span></a></li><li><a class="level is-mobile" href="#2-6-快速创建IPC函数"><span class="level-left"><span class="level-item">2.6 快速创建IPC函数</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#示例"><span class="level-left"><span class="level-item">示例</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#3-代码规范"><span class="level-left"><span class="level-item">3. 代码规范</span></span></a></li><li><a class="level is-mobile" href="#4-依赖包-🎈"><span class="level-left"><span class="level-item">4. 依赖包 🎈</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#4-1-基本原则"><span class="level-left"><span class="level-item">4.1 基本原则</span></span></a></li><li><a class="level is-mobile" href="#4-2-dependencies和devDependencies的区别"><span class="level-left"><span class="level-item">4.2 dependencies和devDependencies的区别</span></span></a></li><li><a class="level is-mobile" href="#4-3-依赖包说明"><span class="level-left"><span class="level-item">4.3 依赖包说明</span></span></a></li></ul></li><li><a class="level is-mobile" href="#5-客户端版本号"><span class="level-left"><span class="level-item">5. 客户端版本号</span></span></a></li><li><a class="level is-mobile" href="#6-期待你的反馈-🥳"><span class="level-left"><span class="level-item">6. 期待你的反馈 🥳</span></span></a></li></ul></div></div><script src="/js/toc.js" defer></script></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="https://blog-static.jiangxueqiao.com/blog/icarus-theme/codesilo.png" alt="CodeSilo" height="28"></a><p class="is-size-7"><span class="is-size-7">© 2017~2024 江雪桥</span>  <a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/" style="color:#000">鄂ICP备2020015399号-6</a>  </p><p class="is-size-7">网站风格：<a target="_blank" rel="noopener" href="https://www.cyberpunk.net/gb/zh-cn/" style="color:#75d4ef">赛博朋克（cyberpunk）</a></p><p class="is-size-7">内容同步发布到以下站点：<a href="https://jiangxueqiao.com" style="color:#fc1e1e">jiangxueqiao.com</a>    <a target="_blank" rel="noopener" href="https://winsoft666.github.io" style="color:#fc1e1e">winsoft666.github.io</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="GitHub" href="https://github.com/winsoft666"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://blog-static.jiangxueqiao.com/blog/icarus-theme/js/jquery/3.3.1/dist/jquery.min.js"></script><script src="https://blog-static.jiangxueqiao.com/blog/icarus-theme/js/moment/2.22.2/min/moment-with-locales.min.js"></script><script src="https://blog-static.jiangxueqiao.com/blog/icarus-theme/js/clipboard/2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-cn");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://blog-static.jiangxueqiao.com/blog/icarus-theme/js/lightgallery/1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://blog-static.jiangxueqiao.com/blog/icarus-theme/js/justifiedGallery/3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://blog-static.jiangxueqiao.com/blog/icarus-theme/js/mathjax/2.7.9/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>